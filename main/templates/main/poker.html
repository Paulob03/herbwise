<!DOCTYPE html>
<html>
<head>
    <title>Roulette Odds Calculator</title>
    <style>
        /* Previous styles remain */
        .category-section {
            margin-top: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .category-card {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            flex: 1 1 300px;
        }

        .frequency-table {
            width: 100%;
            margin-top: 20px;
        }

        .highlight {
            background-color: #e8f5e9 !important;
        }

        .number-grid {
            display: grid;
            grid-template-columns: repeat(19, 1fr);
            gap: 2px;
            margin-top: 10px;
        }

        .number-item {
            padding: 5px;
            text-align: center;
            background: #f5f5f5;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Roulette Odds Calculator</h1>
        <div class="input-section">
            <input type="number" id="numberInput" min="0" max="36" placeholder="Enter a number (0-36)">
            <button id="addButton">Add Number</button>
            <button id="clearButton">Clear History</button>
        </div>
        
        <div class="history">
            <h2>Spin History</h2>
            <div class="number-grid" id="historyGrid"></div>
        </div>

        <div class="predictions">
            <h2>Predictions & Statistics</h2>
            <div class="category-section">
                <div class="category-card">
                    <h3>Numbers (0-36)</h3>
                    <div class="number-grid" id="numberGrid"></div>
                </div>
                
                <div class="category-card">
                    <h3>Red/Black</h3>
                    <table>
                        <tr><th>Color</th><th>Count</th><th>%</th></tr>
                        <tbody id="colorStats"></tbody>
                    </table>
                </div>

                <div class="category-card">
                    <h3>Odd/Even</h3>
                    <table>
                        <tr><th>Type</th><th>Count</th><th>%</th></tr>
                        <tbody id="parityStats"></tbody>
                    </table>
                </div>

                <div class="category-card">
                    <h3>High/Low</h3>
                    <table>
                        <tr><th>Range</th><th>Count</th><th>%</th></tr>
                        <tbody id="rangeStats"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        let spinHistory = [];
        let stats = {
            numbers: {},
            red: 0,
            black: 0,
            odd: 0,
            even: 0,
            high: 0,
            low: 0,
            green: 0
        };

        const redNumbers = new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);

        function updateDisplay() {
            // Update history grid
            const historyGrid = document.getElementById('historyGrid');
            historyGrid.innerHTML = spinHistory.reverse().map(num => 
                `<div class="number-item" style="background:${getNumberColor(num)}">${num}</div>`
            ).join('');

            // Update number grid
            const numberGrid = document.getElementById('numberGrid');
            numberGrid.innerHTML = Array.from({length: 37}, (_, i) => {
                const num = i.toString();
                const count = stats.numbers[num] || 0;
                return `<div class="number-item" style="background:${getNumberColor(num)}">
                    ${num}<br><small>${count}</small>
                </div>`;
            }).join('');

            // Update color stats
            const colorTotal = stats.red + stats.black;
            document.getElementById('colorStats').innerHTML = `
                ${makeRow('Red', stats.red, colorTotal, stats.red < stats.black)}
                ${makeRow('Black', stats.black, colorTotal, stats.black < stats.red)}
                ${makeRow('Green', stats.green, spinHistory.length)}
            `;

            // Update parity stats
            const parityTotal = stats.odd + stats.even;
            document.getElementById('parityStats').innerHTML = `
                ${makeRow('Odd', stats.odd, parityTotal, stats.odd < stats.even)}
                ${makeRow('Even', stats.even, parityTotal, stats.even < stats.odd)}
            `;

            // Update range stats
            const rangeTotal = stats.high + stats.low;
            document.getElementById('rangeStats').innerHTML = `
                ${makeRow('High (19-36)', stats.high, rangeTotal, stats.high < stats.low)}
                ${makeRow('Low (1-18)', stats.low, rangeTotal, stats.low < stats.high)}
            `;
        }

        function makeRow(label, count, total, highlight = false) {
            const percentage = total > 0 ? (count / total * 100).toFixed(1) : '0.0';
            return `<tr ${highlight ? 'class="highlight"' : ''}>
                <td>${label}</td>
                <td>${count}</td>
                <td>${percentage}%</td>
            </tr>`;
        }

        function getNumberColor(num) {
            num = parseInt(num);
            if (num === 0) return '#2e7d32';
            return redNumbers.has(num) ? '#c62828' : '#212121';
        }

        document.getElementById('addButton').addEventListener('click', function() {
            const input = document.getElementById('numberInput');
            const num = parseInt(input.value);
            
            if (isNaN(num) || num < 0 || num > 36) {
                alert('Please enter a number between 0-36');
                return;
            }

            // Update stats
            const numStr = num.toString();
            stats.numbers[numStr] = (stats.numbers[numStr] || 0) + 1;
            
            if (num === 0) {
                stats.green++;
            } else {
                // Update color stats
                redNumbers.has(num) ? stats.red++ : stats.black++;
                
                // Update parity stats
                num % 2 === 0 ? stats.even++ : stats.odd++;
                
                // Update range stats
                num > 18 ? stats.high++ : stats.low++;
            }

            spinHistory.push(numStr);
            updateDisplay();
            input.value = '';
        });

        document.getElementById('clearButton').addEventListener('click', function() {
            spinHistory = [];
            stats = {
                numbers: {},
                red: 0,
                black: 0,
                odd: 0,
                even: 0,
                high: 0,
                low: 0,
                green: 0
            };
            updateDisplay();
        });

        // Initial display
        updateDisplay();
    </script>
</body>
</html>