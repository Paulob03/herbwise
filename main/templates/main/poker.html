<!DOCTYPE html>
<html>
<head>
    <title>Advanced Roulette Analyzer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --red: #c62828;
            --black: #212121;
            --green: #2e7d32;
        }

        body {
            margin: 0;
            padding: 10px;
            font-family: Arial, sans-serif;
        }

        .input-section {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        input[type="number"] {
            padding: 8px;
            width: 120px;
            flex: 1;
        }

        button {
            padding: 8px 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
        }

        .roulette-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            margin: 15px 0;
            max-width: 400px;
        }

        .number-cell {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5px;
            position: relative;
        }

        .number-cell span {
            font-size: 1.2em;
            font-weight: bold;
        }

        .number-cell small {
            font-size: 0.8em;
            color: #666;
        }

        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            margin-top: 10px;
        }

        th, td {
            padding: 6px;
            text-align: left;
        }

        .highlight {
            background-color: #e8f5e9;
        }

        #predictions {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Roulette Analyzer</h1>
        
        <div class="input-section">
            <input type="number" id="numberInput" min="0" max="36" placeholder="Enter number (0-36)">
            <button id="addButton">Add</button>
            <button id="clearButton">Clear</button>
        </div>

        <div class="roulette-grid" id="numberGrid"></div>

        <div class="stats-section">
            <div class="stat-card">
                <h3>Color Stats</h3>
                <table>
                    <tr><th>Color</th><th>Count</th><th>%</th></tr>
                    <tbody id="colorStats"></tbody>
                </table>
            </div>

            <div class="stat-card">
                <h3>Odd/Even & High/Low</h3>
                <table>
                    <tr><th>Type</th><th>Count</th><th>%</th></tr>
                    <tbody id="parityStats"></tbody>
                    <tbody id="highLowStats"></tbody>
                </table>
            </div>

            <div class="stat-card">
                <h3>Rows (1-3, 4-6...)</h3>
                <table>
                    <tr><th>Row</th><th>Count</th><th>%</th></tr>
                    <tbody id="rowStats"></tbody>
                </table>
            </div>

            <div class="stat-card">
                <h3>Columns</h3>
                <table>
                    <tr><th>Column</th><th>Count</th><th>%</th></tr>
                    <tbody id="columnStats"></tbody>
                </table>
            </div>
        </div>

        <div id="predictions">
            <h3>Most Likely Numbers</h3>
            <div id="predictionList"></div>
        </div>
    </div>

    <script>
        const redNumbers = new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);
        const columnRanges = ['1-34', '2-35', '3-36'];
        let stats = {
            numbers: {},
            red: 0,
            black: 0,
            odd: 0,
            even: 0,
            high: 0,
            low: 0,
            rows: Array(12).fill(0),
            columns: Array(3).fill(0),
            history: []
        };

        function getNumberColor(num) {
            num = parseInt(num);
            if (num === 0) return 'var(--green)';
            return redNumbers.has(num) ? 'var(--red)' : 'var(--black)';
        }

        function updateStats(num) {
            stats.numbers[num] = (stats.numbers[num] || 0) + 1;
            
            if (num !== 0) {
                // Update basic stats
                num % 2 === 0 ? stats.even++ : stats.odd++;
                num > 18 ? stats.high++ : stats.low++;
                redNumbers.has(num) ? stats.red++ : stats.black++;
                
                // Update rows and columns
                const row = Math.floor((num - 1) / 3);
                const col = (num - 1) % 3;
                stats.rows[row]++;
                stats.columns[col]++;
            }

            stats.history.push(num);
        }

        function updateDisplay() {
            // Update roulette grid
            const gridContainer = document.getElementById('numberGrid');
            gridContainer.innerHTML = `
                <div class="number-cell" style="background:var(--green)">
                    <span>0</span>
                    <small>${stats.numbers[0] || 0}</small>
                </div>
                ${Array.from({length: 36}, (_, i) => {
                    const num = i + 1;
                    return `
                        <div class="number-cell" style="background:${getNumberColor(num)}">
                            <span>${num}</span>
                            <small>${stats.numbers[num] || 0}</small>
                        </div>
                    `;
                }).join('')}
            `;

            // Update stats tables
            const total = stats.history.length;
            const spinsWithoutZero = total - (stats.numbers[0] || 0);

            // Color stats
            document.getElementById('colorStats').innerHTML = `
                <tr ${stats.red < stats.black ? 'class="highlight"' : ''}>
                    <td>Red</td>
                    <td>${stats.red}</td>
                    <td>${((stats.red / spinsWithoutZero) * 100 || 0).toFixed(1)}%</td>
                </tr>
                <tr ${stats.black < stats.red ? 'class="highlight"' : ''}>
                    <td>Black</td>
                    <td>${stats.black}</td>
                    <td>${((stats.black / spinsWithoutZero) * 100 || 0).toFixed(1)}%</td>
                </tr>
                <tr>
                    <td>Green</td>
                    <td>${stats.numbers[0] || 0}</td>
                    <td>${((stats.numbers[0] / total) * 100 || 0).toFixed(1)}%</td>
                </tr>
            `;

            // Parity and High/Low stats
            document.getElementById('parityStats').innerHTML = `
                <tr ${stats.even < stats.odd ? 'class="highlight"' : ''}>
                    <td>Even</td>
                    <td>${stats.even}</td>
                    <td>${((stats.even / spinsWithoutZero) * 100 || 0).toFixed(1)}%</td>
                </tr>
                <tr ${stats.odd < stats.even ? 'class="highlight"' : ''}>
                    <td>Odd</td>
                    <td>${stats.odd}</td>
                    <td>${((stats.odd / spinsWithoutZero) * 100 || 0).toFixed(1)}%</td>
                </tr>
            `;

            document.getElementById('highLowStats').innerHTML = `
                <tr ${stats.high < stats.low ? 'class="highlight"' : ''}>
                    <td>High (19-36)</td>
                    <td>${stats.high}</td>
                    <td>${((stats.high / spinsWithoutZero) * 100 || 0).toFixed(1)}%</td>
                </tr>
                <tr ${stats.low < stats.high ? 'class="highlight"' : ''}>
                    <td>Low (1-18)</td>
                    <td>${stats.low}</td>
                    <td>${((stats.low / spinsWithoutZero) * 100 || 0).toFixed(1)}%</td>
                </tr>
            `;

            // Row and Column stats
            document.getElementById('rowStats').innerHTML = stats.rows
                .map((count, i) => {
                    const start = i * 3 + 1;
                    const percentage = (count / spinsWithoutZero * 100 || 0).toFixed(1);
                    return `
                        <tr ${count < Math.max(...stats.rows) ? 'class="highlight"' : ''}>
                            <td>${start}-${start+2}</td>
                            <td>${count}</td>
                            <td>${percentage}%</td>
                        </tr>
                    `;
                }).join('');

            document.getElementById('columnStats').innerHTML = stats.columns
                .map((count, i) => {
                    const percentage = (count / spinsWithoutZero * 100 || 0).toFixed(1);
                    return `
                        <tr ${count < Math.max(...stats.columns) ? 'class="highlight"' : ''}>
                            <td>Column ${columnRanges[i]}</td>
                            <td>${count}</td>
                            <td>${percentage}%</td>
                        </tr>
                    `;
                }).join('');

            // Update predictions
            updatePredictions();
        }

        function updatePredictions() {
            const predictedColor = stats.red > stats.black ? 'red' : 'black';
            const predictedParity = stats.even > stats.odd ? 'even' : 'odd';
            const predictedRange = stats.high > stats.low ? 'high' : 'low';

            const candidates = Array.from({length: 36}, (_, i) => i + 1)
                .filter(num => {
                    const color = redNumbers.has(num) ? 'red' : 'black';
                    const parity = num % 2 === 0 ? 'even' : 'odd';
                    const range = num > 18 ? 'high' : 'low';
                    return color === predictedColor && 
                           parity === predictedParity && 
                           range === predictedRange;
                });

            const sorted = candidates.sort((a, b) => {
                const countDiff = (stats.numbers[b] || 0) - (stats.numbers[a] || 0);
                return countDiff !== 0 ? countDiff : a - b;
            });

            document.getElementById('predictionList').innerHTML = `
                <p>Based on current trends (${predictedColor}, ${predictedParity}, ${predictedRange}):</p>
                <div class="number-grid">
                    ${sorted.map(num => `
                        <div class="number-item" style="background:${getNumberColor(num)}">
                            ${num}<br>
                            <small>${stats.numbers[num] || 0}</small>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Event listeners
        document.getElementById('addButton').addEventListener('click', () => {
            const input = document.getElementById('numberInput');
            const num = parseInt(input.value);
            if (num >= 0 && num <= 36) {
                updateStats(num);
                updateDisplay();
                input.value = '';
            }
        });

        document.getElementById('clearButton').addEventListener('click', () => {
            stats = {
                numbers: {},
                red: 0,
                black: 0,
                odd: 0,
                even: 0,
                high: 0,
                low: 0,
                rows: Array(12).fill(0),
                columns: Array(3).fill(0),
                history: []
            };
            updateDisplay();
        });

        // Initial setup
        updateDisplay();
    </script>
</body>
</html>